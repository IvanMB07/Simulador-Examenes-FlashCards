<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Restaurantes</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ½ï¸ Nuestros Restaurantes</h1>
        </header>

        <div class="tabs">
            <button class="tab active" data-tab="form">â• AÃ±adir Restaurante</button>
            <button class="tab" data-tab="list">ğŸ“‹ Lista de Restaurantes</button>
        </div>

        <!-- FORMULARIO -->
        <section id="form-section" class="section active">
            <form id="restaurant-form">
                <input type="hidden" id="edit-id">
                
                <div class="form-group">
                    <label for="name">Nombre *</label>
                    <input type="text" id="name" required placeholder="Nombre del restaurante">
                </div>

                <div class="form-group">
                    <label for="location">UbicaciÃ³n</label>
                    <input type="text" id="location" placeholder="DirecciÃ³n o ubicaciÃ³n">
                </div>

                <div class="form-group">
                    <label for="photos">Fotos</label>
                    <input type="file" id="photos" accept="image/*" multiple>
                    <div id="photo-preview" class="photo-preview"></div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="type">Tipo</label>
                        <select id="type">
                            <option value="">Selecciona un tipo</option>
                            <option value="Buffet">Buffet</option>
                            <option value="Restaurante">Restaurante</option>
                            <option value="CafeterÃ­a/PastelerÃ­a">CafeterÃ­a/PastelerÃ­a</option>
                            <option value="Comida RÃ¡pida">Comida RÃ¡pida</option>
                            <option value="To Good to go">To Good to go</option>
                            <option value="custom">âœï¸ Otro (escribir)</option>
                        </select>
                        <input type="text" id="type-custom" class="custom-input" placeholder="Escribe el tipo" style="display:none;">
                    </div>

                    <div class="form-group">
                        <label for="subtype">Subtipo</label>
                        <select id="subtype">
                            <option value="">Selecciona un subtipo</option>
                            <option value="Sushi/Japo">Sushi/Japo</option>
                            <option value="EspaÃ±ol">EspaÃ±ol</option>
                            <option value="Desayuno">Desayuno</option>
                            <option value="Merienda">Merienda</option>
                            <option value="TailandÃ©s">TailandÃ©s</option>
                            <option value="Cena">Cena</option>
                            <option value="Hamburguesa">Hamburguesa</option>
                            <option value="Pizza">Pizza</option>
                            <option value="Italiano">Italiano</option>
                            <option value="Mexicano">Mexicano</option>
                            <option value="Comida">Comida</option>
                            <option value="custom">âœï¸ Otro (escribir)</option>
                        </select>
                        <input type="text" id="subtype-custom" class="custom-input" placeholder="Escribe el subtipo" style="display:none;">
                    </div>
                </div>

                <div class="ratings-section">
                    <h3>Valoraciones</h3>
                    
                    <div class="rating-group">
                        <label>Calidad</label>
                        <div class="stars" data-rating="quality">
                            <span class="star" data-value="1">â˜…</span>
                            <span class="star" data-value="2">â˜…</span>
                            <span class="star" data-value="3">â˜…</span>
                            <span class="star" data-value="4">â˜…</span>
                            <span class="star" data-value="5">â˜…</span>
                        </div>
                        <input type="hidden" id="quality" value="0">
                    </div>

                    <div class="rating-group">
                        <label>Cantidad</label>
                        <div class="stars" data-rating="quantity">
                            <span class="star" data-value="1">â˜…</span>
                            <span class="star" data-value="2">â˜…</span>
                            <span class="star" data-value="3">â˜…</span>
                            <span class="star" data-value="4">â˜…</span>
                            <span class="star" data-value="5">â˜…</span>
                        </div>
                        <input type="hidden" id="quantity" value="0">
                    </div>

                    <div class="rating-group">
                        <label>Variedad</label>
                        <div class="stars" data-rating="variety">
                            <span class="star" data-value="1">â˜…</span>
                            <span class="star" data-value="2">â˜…</span>
                            <span class="star" data-value="3">â˜…</span>
                            <span class="star" data-value="4">â˜…</span>
                            <span class="star" data-value="5">â˜…</span>
                        </div>
                        <input type="hidden" id="variety" value="0">
                    </div>

                    <div class="rating-group">
                        <label>EstÃ©tica</label>
                        <div class="stars" data-rating="aesthetics">
                            <span class="star" data-value="1">â˜…</span>
                            <span class="star" data-value="2">â˜…</span>
                            <span class="star" data-value="3">â˜…</span>
                            <span class="star" data-value="4">â˜…</span>
                            <span class="star" data-value="5">â˜…</span>
                        </div>
                        <input type="hidden" id="aesthetics" value="0">
                    </div>

                    <div class="rating-group">
                        <label>Servicio</label>
                        <div class="stars" data-rating="service">
                            <span class="star" data-value="1">â˜…</span>
                            <span class="star" data-value="2">â˜…</span>
                            <span class="star" data-value="3">â˜…</span>
                            <span class="star" data-value="4">â˜…</span>
                            <span class="star" data-value="5">â˜…</span>
                        </div>
                        <input type="hidden" id="service" value="0">
                    </div>

                    <div class="rating-group">
                        <label>Calidad/Precio</label>
                        <div class="stars" data-rating="quality-price">
                            <span class="star" data-value="1">â˜…</span>
                            <span class="star" data-value="2">â˜…</span>
                            <span class="star" data-value="3">â˜…</span>
                            <span class="star" data-value="4">â˜…</span>
                            <span class="star" data-value="5">â˜…</span>
                        </div>
                        <input type="hidden" id="quality-price" value="0">
                    </div>
                </div>

                <div class="total-score-section">
                    <h3>PuntuaciÃ³n Total</h3>
                    <div class="rating-group total">
                        <div class="stars large" data-rating="total-score">
                            <span class="star" data-value="1">â˜…</span>
                            <span class="star" data-value="2">â˜…</span>
                            <span class="star" data-value="3">â˜…</span>
                            <span class="star" data-value="4">â˜…</span>
                            <span class="star" data-value="5">â˜…</span>
                        </div>
                        <input type="hidden" id="total-score" value="0">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Â¿VolverÃ­amos?</label>
                        <div class="return-options">
                            <label class="return-option">
                                <input type="radio" name="return" value="yes">
                                <span class="emoji">âœ…</span> SÃ­
                            </label>
                            <label class="return-option">
                                <input type="radio" name="return" value="no">
                                <span class="emoji">âŒ</span> No
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="times-visited">Veces Ido</label>
                        <input type="number" id="times-visited" min="0" value="0">
                    </div>
                </div>

                <div class="form-group">
                    <label for="notes">Nota</label>
                    <textarea id="notes" rows="3" placeholder="AÃ±ade alguna nota sobre tu experiencia..."></textarea>
                </div>

                <div class="form-group">
                    <label for="reservation">Reservar</label>
                    <input type="text" id="reservation" placeholder="TelÃ©fono o URL para reservar">
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">ğŸ’¾ Guardar Restaurante</button>
                    <button type="button" class="btn btn-secondary" id="cancel-edit">âŒ Cancelar</button>
                </div>
            </form>
        </section>

        <!-- LISTA DE RESTAURANTES -->
        <section id="list-section" class="section">
            <div class="search-bar">
                <input type="text" id="search" placeholder="ğŸ” Buscar restaurante...">
            </div>
            <div id="restaurants-list" class="restaurants-grid"></div>
        </section>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, set, get, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDNDozjLr-ETz3_i2Zkmjnsy7eHHv5TG7I",
            authDomain: "restaurantes-d3e68.firebaseapp.com",
            databaseURL: "https://restaurantes-d3e68-default-rtdb.firebaseio.com",
            projectId: "restaurantes-d3e68",
            storageBucket: "restaurantes-d3e68.firebasestorage.app",
            messagingSenderId: "753290983550",
            appId: "1:753290983550:web:4a2cc578f66c8fd797802f"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        window.firebaseDB = database;
        window.firebaseRef = ref;
        window.firebaseSet = set;
        window.firebaseGet = get;
        window.firebaseOnValue = onValue;
    </script>
    <script src="script.js"></script>
</body>
</html>